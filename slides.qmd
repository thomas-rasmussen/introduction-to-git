---
title: "Introduction to Git"
title-slide-attributes:
  data-background-image: ./diagrams/title-slide-background.svg
  data-background-size: 90%
  data-background-opacity: "0.5"
format:
  revealjs:
    embed-resources: true
---

```{r}
#| label: setup
#| echo: false
#| include: false

# library(tidyverse)
```

## Notes/TODO

- Read up on HTML stuff and figure out how to make a custom "terminal code" class that can be
applied to command prompt / git commands that uses a monospace font, uses standard quatation marks
instead of left and right quatation marks etc. Ideally, drop the callout-block approach and make
a custom approach ourselves making a box etc.

- Incorporate a running example illustrating all the introduced concepts and commands? It would probably make
sense to build something reassembling a typical DCE project from scratch? Is a "running exercise" better for this?

- Split up the presentation into 3 separate presentations, once for each part? Might make
  everything a little more manageable? On the other hand it would be nice to have everything together in one file. Maybe only split up if compile times becomes irratingly long and/or file size
  becomes too big (whatever that would be)
## Overview

Part I - Introduction to Git

Part II - Using Git in practice

Part III - Advanced use of Git


## Part I - Introduction to Git

![](images/xkcd_git.png){width=30% fig-align="center"}

::: aside
https://xkcd.com/1597/
:::

## Part I overview

What is Git

Setup

Introduce basic commands in the other they are needed

1) git init (without too much explaning)
2) git add
3) git commit

With this you can use Git in a useful way. Everything else optional I guess. Next order of
business is probably git log, and finally maybe git reset for undoing stuff?

Git clone is a basic command is a basic command I guess, but it is going to be irrelevant in 99%
of our use cases, so it probably makes sense to save that for when we start talking about remotes / Github.

This section should probably also introduce .gitignore files at an appropriate time. 

Build the section around the hypothesis that 95% of the time, people are going to be working alone
on their own codebase, without needing/wanting to use any remotes / Github.

## What is Git?

Git is a distributed version control system

Version control system: Software that tracks different versions of files

Distributed: There is no central repository. Each copy of the codebase contains the
entire history of versions of files.

::: {.notes}
Git is a distributed version control system (DVCS). A version control system (VCS)
is aprogram that tracks different version of files. In a *distributed* VCS there is
no contral repository where the code lives. Each copy of the codebase contrains
the entire history of version of files. In many contexts this is vastly superior
to earlier *centralized* VCS, where there is a central codebase from which
code is copied.
:::


## Why bother?

Why not do version control manually by eg saving version of code in folders with
a datestamp or something similar?

Advantages of using Git.

- More rigorous than making folders with old versions of code.

- Makes it easy to switch back and forth between different versions of files

- Makes it easy to see precise differences of versions of code

- Enhances collaboration on codebase by multiple persons


::: {.notes}

:::


## Setup

So how do we get started:

- Download Git for windows

- Configure Git Bash


::: {.notes}
We assume that the reader has already installed Git for Windows and has configured
the Git Bash (set user credentials and default editor). If not, see notes document for a guide.
:::


## Some Git technical stuff

at this point it is probably time to explain some of the basic concepts in Git, eg the
work directory / staging / history, and introduce init/add/commit commands? We only need these
3 commands to get started right?

Next up we should start the running example, and then introduce git log so that we can 
visualize the history of commits.

At this point we already know enough to use Git in practice in a real project in a simple meaningful way?



## Initialize a Git repository

Make a local directory into a Git repository:

1) Change directory to local directory using cd command

:::{.callout-note appearance="minimal" style="font-family: monospace"}
cd "S:/some path/probably/with spaces"
:::

2) Use git init command to initialize Git repository in folder

:::{.callout-note appearance="minimal" style="font-family: monospace"}
git init
:::


::: {.notes}

Note that it is only necessary to quote the filepath with the cd
command if the filepath contains spaces.

The file directory is shown as  "/s/some path/probably/with spaces"in Git Bash.
This form can also be used, ie "cd /s/some path/probably/with space".

It is often easier to right click (or shift+right click on Windows 11) on the folder
of interest and select "Open with Git Bash here".

Running git init in a directory creates a new subdirectory named ".git" that contains
all of your necessary repository files. We will not talk about what the content of ".git"
is at this point, but might come back to some of it later.

:::

## Running example I

Start a running example of live coding at this point?

::: {.notes}

1) Make a directory
2) Change directory in Git Bash to the newly created directory
2) Make a plain README text file in the directory. Do it using touch/echo commands
   to showcase using Git Bash.

:::

## Recording changes


## The lifecycle of the status of files

![](diagrams/lifecycle-status-files.svg){width=90% fig-align="center"}

::: {.aside}
Adaptation of diagram from Pro Git p. 26
:::


::: {.notes}

:::

## TODO

  - Using Git Bash. Just do it. Powershell would technically be an alternative. All git commands
    would work but you would (probably) not be able to do other kinds of basic commands that is
    not Git?
  - Setup/configuration of Git? git config stuff? Using Git Bash
  - Basic Git usage. Introduce commands with running example?
  - The three stages
  - More technical command
  - Running example that is live coded to show off introduced concepts?
  - Basic exercises playing around with the basic commands


## Part II

- Part II: Using git in day to day work
  - Simple ways of using Git in projects
  - Initialize a repository in an existing directory
  - Branching
  - Exercises meant to illustrate a simple but good workflow

## Part III

Probably not time for this, but some of it will probably come up in discussions
anyway, maybe there is time to talk about some of it

- Part III: Advanced use
  - Advanced commands. Like reset, rebase, diff etc
  - remotes
  - GitHub
  - aliases. can/should maybe be included in part I
  - Collaboration on a codebase
  - Distributed workflows / Git flow / whatever something about having a plan on how to do things.
  - Why use specifically Git? Are there any alternatives? See eg Pro Git chapter 1
  - Git GUI/IDE's. What are popular choices. Pro's and con's over using only Git Bash. Specifically
    Git versus Subversion.
  - Version controlling output. Can it be justified in practice? Always better to only version-control code?
  - What to do when you royally fuck up? Talk about minimizing deleting code using remotes and proper
    work flows. 
 
  
## Git commit history diagram test


```{mermaid}
gitGraph
   commit
   commit
   branch develop
   checkout develop
   commit
   commit
   checkout main
   merge develop
   commit
   commit
```



